<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>المدرسة السادسة والعشرون - تبوك</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
<style>
*{margin:0;padding:0;box-sizing:border-box}:root{--primary-green:#2E7D32;--secondary-green:#388E3C;--light-green:#4CAF50;--dark-green:#1B5E20;--accent-gold:#FFB300}body{font-family:'Segoe UI',Arial,sans-serif;background:linear-gradient(135deg,var(--primary-green) 0%,var(--secondary-green) 100%);min-height:100vh;line-height:1.6;padding-bottom:40px}.header-logo{background:#fff;padding:15px 20px;text-align:center;box-shadow:0 4px 12px rgba(0,0,0,.15);position:sticky;top:0;z-index:1000}.logo-placeholder{max-width:700px;height:100px;margin:0 auto;background:linear-gradient(135deg,var(--primary-green) 0%,var(--light-green) 100%);border-radius:12px;display:flex;align-items:center;justify-content:center;color:#fff;font-size:26px;font-weight:700;box-shadow:0 4px 15px rgba(46,125,50,.3)}nav{background:rgba(255,255,255,.98);padding:15px;box-shadow:0 2px 8px rgba(0,0,0,.1)}.nav-container{max-width:1200px;margin:0 auto;display:flex;justify-content:center;gap:15px;flex-wrap:wrap}.nav-btn{padding:13px 35px;background:linear-gradient(135deg,var(--primary-green) 0%,var(--secondary-green) 100%);color:#fff;border:none;border-radius:30px;cursor:pointer;font-size:17px;font-weight:700;transition:all .3s ease;box-shadow:0 3px 10px rgba(46,125,50,.3)}.nav-btn:hover{transform:translateY(-3px);box-shadow:0 6px 20px rgba(46,125,50,.5)}.nav-btn.active{background:linear-gradient(135deg,var(--dark-green) 0%,var(--primary-green) 100%)}.container{max-width:1200px;margin:30px auto;padding:0 20px}.page{display:none;background:#fff;padding:40px;border-radius:15px;box-shadow:0 10px 40px rgba(0,0,0,.3);margin-bottom:30px}.page.active{display:block}h1{color:var(--primary-green);text-align:center;margin-bottom:30px;font-size:36px;font-weight:700}h2{color:var(--primary-green);margin:30px 0 20px;font-size:26px;border-right:5px solid var(--accent-gold);padding-right:15px}.form-group{margin-bottom:22px}label{display:block;margin-bottom:8px;color:#2c3e50;font-weight:600;font-size:16px}input[type=text],input[type=date],input[type=number],textarea,select{width:100%;padding:14px 16px;border:2px solid #ddd;border-radius:10px;font-size:16px;transition:all .3s ease;background:#fafafa}input:focus,textarea:focus,select:focus{outline:0;border-color:var(--primary-green);background:#fff;box-shadow:0 0 0 4px rgba(46,125,50,.1)}textarea{min-height:110px;resize:vertical}.btn{padding:15px 40px;background:linear-gradient(135deg,var(--primary-green) 0%,var(--secondary-green) 100%);color:#fff;border:none;border-radius:30px;cursor:pointer;font-size:17px;font-weight:700;transition:all .3s ease;margin:10px 5px;box-shadow:0 4px 12px rgba(46,125,50,.3)}.btn:hover{transform:translateY(-3px);box-shadow:0 6px 20px rgba(46,125,50,.5)}.btn-secondary{background:linear-gradient(135deg,#00796B 0%,#00897B 100%)}.btn-danger{background:linear-gradient(135deg,#D32F2F 0%,#C62828 100%)}.image-upload{border:3px dashed var(--primary-green);padding:45px;text-align:center;border-radius:15px;cursor:pointer;transition:all .3s ease;background:#f1f8f4}.image-upload:hover{background:#e8f5e9}.preview-images{display:grid;grid-template-columns:repeat(auto-fill,minmax(180px,1fr));gap:20px;margin-top:25px}.preview-image{width:100%;height:180px;object-fit:cover;border-radius:12px;box-shadow:0 4px 15px rgba(0,0,0,.15);border:3px solid var(--light-green)}table{width:100%;border-collapse:collapse;margin:30px 0;background:#fff;box-shadow:0 4px 20px rgba(0,0,0,.1);border-radius:12px;overflow:hidden}th,td{padding:16px 14px;text-align:center;border:1px solid #e0e0e0;font-size:15px}th{background:linear-gradient(135deg,var(--primary-green) 0%,var(--secondary-green) 100%);color:#fff;font-weight:700}tbody tr:nth-child(even){background:#f8f9fa}tbody tr:hover{background:#e8f5e9}.home-content{text-align:center;padding:60px 20px}.features{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:35px;margin-top:60px}.feature-card{background:linear-gradient(135deg,var(--primary-green) 0%,var(--secondary-green) 100%);padding:40px;border-radius:20px;color:#fff;text-align:center;transition:all .3s ease;box-shadow:0 6px 25px rgba(46,125,50,.3)}.feature-card:hover{transform:translateY(-15px)}.checkbox-group{display:flex;gap:25px;flex-wrap:wrap;margin:12px 0}.checkbox-item{display:flex;align-items:center;gap:12px;padding:10px 18px;background:#f1f8f4;border-radius:10px;border:2px solid transparent}.checkbox-item:hover{background:#e8f5e9}.checkbox-item input{width:22px;height:22px;cursor:pointer}.action-buttons{text-align:center;margin:35px 0;padding:25px;background:linear-gradient(135deg,#f1f8f4 0%,#e8f5e9 100%);border-radius:15px}.report-preview{background:#fff;padding:50px;border-radius:15px;margin-top:35px;border:3px solid var(--light-green);box-shadow:0 8px 30px rgba(46,125,50,.2)}.delete-btn{padding:10px 18px;background:linear-gradient(135deg,#D32F2F 0%,#C62828 100%);color:#fff;border:none;border-radius:20px;cursor:pointer;font-size:14px;font-weight:700}.site-footer{background:linear-gradient(135deg,var(--primary-green) 0%,var(--dark-green) 100%);color:#fff;padding:20px;text-align:center;margin-top:40px}@media print{nav,.btn,.form-group,.image-upload,.action-buttons,.site-footer,.no-print{display:none!important}}
</style>
</head>
<body>
<div class="header-logo"><div class="logo-placeholder">المدرسة السادسة والعشرون - تبوك</div></div>
<nav><div class="nav-container">
<button class="nav-btn active" onclick="showPage('home')">الصفحة الرئيسية</button>
<button class="nav-btn" onclick="showPage('activities')">تقارير الأنشطة</button>
<button class="nav-btn" onclick="showPage('sessions')">تقارير الحصص</button>
</div></nav>
<div class="container">
<div id="home" class="page active">
<div class="home-content">
<h1>مرحباً بكم في نظام التقارير المدرسية</h1>
<p><strong>المدرسة السادسة والعشرون - تبوك</strong></p>
<p>نظام متكامل وحديث لإدارة وتوثيق تقارير الأنشطة والحصص المدرسية</p>
<div class="features">
<div class="feature-card"><h3>تقارير الأنشطة</h3><p>توثيق شامل لجميع الأنشطة المدرسية</p></div>
<div class="feature-card"><h3>تقارير الحصص</h3><p>متابعة دقيقة ومنظمة لحصص الانتظار</p></div>
<div class="feature-card"><h3>تصدير PDF</h3><p>تصدير التقارير بتنسيق احترافي</p></div>
</div></div></div>
<div id="activities" class="page">
<h1>تقرير النشاط المدرسي</h1>
<div class="form-group"><label>اسم البرنامج / النشاط: *</label><input type="text" id="activityName"></div>
<div class="form-group"><label>المنفذ: *</label><input type="text" id="executor"></div>
<div class="form-group"><label>عدد المستفيدين:</label><input type="number" id="beneficiaries" min="1"></div>
<div class="form-group"><label>التاريخ: *</label><input type="date" id="activityDate"></div>
<div class="form-group"><label>المكان:</label><input type="text" id="location"></div>
<div class="form-group"><label>الأهداف:</label><textarea id="objectives"></textarea></div>
<div class="form-group"><label>وصف النشاط:</label><textarea id="description"></textarea></div>
<div class="form-group"><label>رفع صور الشواهد:</label>
<div class="image-upload" onclick="document.getElementById('activityImages').click()">
<p>اضغط هنا لرفع الصور</p>
<input type="file" id="activityImages" multiple accept="image/*" style="display:none" onchange="previewActivityImages(event)">
</div><div class="preview-images" id="activityPreview"></div></div>
<div class="action-buttons">
<button class="btn" onclick="generateActivityReport()">معاينة التقرير</button>
<button class="btn btn-secondary" onclick="exportActivityPDF()">تصدير PDF</button>
<button class="btn btn-danger" onclick="clearActivityForm()">مسح النموذج</button>
</div>
<div id="activityReport" class="report-preview" style="display:none;"></div>
</div>
<div id="sessions" class="page">
<h1>تقرير حصص الانتظار</h1>
<div style="text-align:center;margin-bottom:30px">
<button class="btn btn-secondary" onclick="exportSessionsPDF()">تصدير PDF</button>
<button class="btn btn-danger" onclick="clearAllSessions()">مسح الكل</button>
</div>
<h2>إدخال بيانات الصف</h2>
<div class="form-group"><label>اليوم</label><select id="dayName">
<option value="">اختر اليوم</option>
<option value="الأحد">الأحد</option>
<option value="الاثنين">الاثنين</option>
<option value="الثلاثاء">الثلاثاء</option>
<option value="الأربعاء">الأربعاء</option>
<option value="الخميس">الخميس</option>
</select></div>
<div class="form-group"><label>التاريخ</label><input type="date" id="sessionDate"></div>
<div class="form-group"><label>الصف</label><input type="text" id="className" placeholder="مثال: الثالث الابتدائي"></div>
<div class="form-group"><label>الحصة</label><input type="number" id="sessionNumber" min="1" max="7" placeholder="رقم الحصة"></div>
<div class="form-group"><label>المعلمة الغائبة</label><input type="text" id="absentTeacher" placeholder="اسم المعلمة"></div>
<div class="form-group"><label>ما تم تنفيذه</label><textarea id="activities" placeholder="اكتب الأنشطة المنفذة بالتفصيل..."></textarea></div>
<div class="form-group"><label>المجال</label>
<div class="checkbox-group">
<div class="checkbox-item"><input type="checkbox" id="basicSkills"><label for="basicSkills">المهارات الأساسية</label></div>
<div class="checkbox-item"><input type="checkbox" id="values"><label for="values">القيم والمواطنة الصالحة</label></div>
<div class="checkbox-item"><input type="checkbox" id="futureSkills"><label for="futureSkills">مهارات المستقبل</label></div>
</div></div>
<div style="text-align:center;margin-top:30px">
<button class="btn" onclick="addSession()">حفظ</button>
<button class="btn btn-danger" onclick="clearSessionForm()">إلغاء</button>
</div>
<div id="sessionsTableContainer" style="display:none;margin-top:40px">
<h2 style="text-align:center">الحصص المسجلة</h2>
<table><thead><tr><th>م</th><th>اليوم</th><th>التاريخ</th><th>الصف</th><th>الحصة</th><th>المعلمة الغائبة</th><th>ما تم تنفيذه</th><th>المجال</th><th class="no-print">إجراءات</th></tr></thead>
<tbody id="sessionsTableBody"></tbody></table>
</div></div>
</div>
<footer class="site-footer">
<p><strong>مديرة المدرسة:</strong> أماني آل عبشان</p>
<p><strong>تصميم الهيئة الإدارية:</strong> عيدة صلاح، منيرة العمراني</p>
</footer>
<script>
let activityImages=[];let sessions=[];function showPage(e){document.querySelectorAll('.page').forEach(t=>t.classList.remove('active'));document.querySelectorAll('.nav-btn').forEach(t=>t.classList.remove('active'));document.getElementById(e).classList.add('active');event.target.classList.add('active');window.scrollTo({top:0,behavior:'smooth'})}function previewActivityImages(e){const t=e.target.files,n=document.getElementById('activityPreview');n.innerHTML='';activityImages=[];if(t.length===0)return;Array.from(t).forEach(e=>{if(!e.type.startsWith('image/'))return alert('الرجاء اختيار صور فقط');const t=new FileReader;t.onload=function(e){activityImages.push(e.target.result);const t=document.createElement('img');t.src=e.target.result;t.className='preview-image';n.appendChild(t)};t.readAsDataURL(e)})}function formatDate(e){if(!e)return'';return new Date(e).toLocaleDateString('ar-SA',{year:'numeric',month:'long',day:'numeric'})}function generateActivityReport(){const e=document.getElementById('activityReport'),t=document.getElementById('activityName').value.trim(),n=document.getElementById('executor').value.trim(),a=document.getElementById('beneficiaries').value.trim(),r=document.getElementById('activityDate').value,o=document.getElementById('location').value.trim(),i=document.getElementById('objectives').value.trim(),s=document.getElementById('description').value.trim();if(!t||!n||!r)return alert('الرجاء تعبئة الحقول الأساسية المطلوبة (*)');let c='<div style="text-align:center;margin-bottom:40px;padding:30px;background:linear-gradient(135deg,#f1f8f4 0%,#e8f5e9 100%);border-radius:15px"><h2 style="font-size:38px;color:#2E7D32;font-weight:bold;margin-bottom:15px">تقرير النشاط المدرسي</h2><p style="font-size:20px;color:#555">المدرسة السادسة والعشرون - تبوك</p><p style="color:#888;margin-top:15px">تاريخ التقرير: '+new Date().toLocaleDateString('ar-SA')+'</p></div><div style="margin:30px 0;padding:25px;background:#f8f9fa;border-radius:12px"><h3 style="color:#2E7D32;font-size:24px;margin-bottom:15px">بيانات النشاط</h3><table style="width:100%;margin:20px 0"><tbody><tr><td style="background:#f1f8f4;font-weight:bold;width:30%;text-align:right;padding:15px">اسم البرنامج</td><td style="text-align:right;padding:15px">'+t+'</td></tr><tr><td style="background:#f1f8f4;font-weight:bold;text-align:right;padding:15px">المنفذ</td><td style="text-align:right;padding:15px">'+n+'</td></tr><tr><td style="background:#f1f8f4;font-weight:bold;text-align:right;padding:15px">عدد المستفيدين</td><td style="text-align:right;padding:15px">'+(a||'غير محدد')+'</td></tr><tr><td style="background:#f1f8f4;font-weight:bold;text-align:right;padding:15px">التاريخ</td><td style="text-align:right;padding:15px">'+formatDate(r)+'</td></tr><tr><td style="background:#f1f8f4;font-weight:bold;text-align:right;padding:15px">المكان</td><td style="text-align:right;padding:15px">'+(o||'غير محدد')+'</td></tr></tbody></table></div>';if(i)c+='<div style="margin:30px 0;padding:25px;background:#f8f9fa;border-radius:12px"><h3 style="color:#2E7D32;font-size:24px;margin-bottom:15px">الأهداف</h3><p style="text-align:right;line-height:2;padding:15px;background:white;border-radius:8px">'+i+'</p></div>';if(s)c+='<div style="margin:30px 0;padding:25px;background:#f8f9fa;border-radius:12px"><h3 style="color:#2E7D32;font-size:24px;margin-bottom:15px">وصف النشاط</h3><p style="text-align:right;line-height:2;padding:15px;background:white;border-radius:8px">'+s+'</p></div>';if(activityImages.length>0){c+='<div style="margin:30px 0;padding:25px;background:#f8f9fa;border-radius:12px"><h3 style="text-align:center;color:#2E7D32;font-size:24px;margin-bottom:25px">صور الشواهد</h3><div style="display:grid;grid-template-columns:repeat(2,1fr);gap:25px">';activityImages.forEach((e,t)=>{c+='<div style="text-align:center"><img src="'+e+'" style="width:100%;max-height:400px;object-fit:cover;border-radius:12px;border:4px solid #4CAF50"><p style="margin-top:12px;color:#2E7D32;font-weight:bold">شاهد '+(t+1)+'</p></div>'});c+='</div></div>'}c+='<div style="margin-top:50px;padding:25px;background:#f1f8f4;border-radius:12px;text-align:center"><p style="color:#2E7D32;font-size:16px;margin:8px 0"><strong>مديرة المدرسة:</strong> أماني آل عبشان</p><p style="color:#2E7D32;font-size:16px;margin:8px 0"><strong>تصميم الهيئة الإدارية:</strong> عيدة صلاح، منيرة العمراني</p></div>';e.innerHTML=c;e.style.display='block';e.scrollIntoView({behavior:'smooth'})}async function exportActivityPDF(){const e=document.getElementById('activityReport');if(e.style.display==='none'||!e.innerHTML.trim())return alert('الرجاء معاينة التقرير أولاً');alert('جاري تصدير PDF...');try{const t=await html2canvas(e,{scale:2,useCORS:true,backgroundColor:'#ffffff'});const n=t.toDataURL('image/jpeg',0.98);const{jsPDF:a}=window.jspdf;const r=new a('p','mm','a4');const o=210;const i=(t.height*o)/t.width;r.addImage(n,'JPEG',0,0,o,i);const s='تقرير_نشاط_'+(document.getElementById('activityName').value.trim()||'مدرسي')+'.pdf';r.save(s);alert('تم تصدير التقرير بنجاح!')}catch(e){console.error(e);alert('حدث خطأ. حاول مرة أخرى')}}function clearActivityForm(){if(confirm('هل تريد مسح جميع البيانات؟')){document.getElementById('activityName').value='';document.getElementById('executor').value='';document.getElementById('beneficiaries').value='';document.getElementById('activityDate').value='';document.getElementById('location').value='';document.getElementById('objectives').value='';document.getElementById('description').value='';document.getElementById('activityPreview').innerHTML='';activityImages=[];document.getElementById('activityReport').style.display='none';alert('تم مسح البيانات')}}function addSession(){const e=document.getElementById('dayName').value,t=document.getElementById('sessionDate').value,n=document.getElementById('className').value.trim(),a=document.getElementById('sessionNumber').value,r=document.getElementById('absentTeacher').value.trim(),o=document.getElementById('activities').value.trim();if(!e||!t||!n||!a||!r||!o)return alert('الرجاء تعبئة جميع الحقول المطلوبة');const i=[];if(document.getElementById('basicSkills').checked)i.push('المهارات الأساسية');if(document.getElementById('values').checked)i.push('القيم والمواطنة الصالحة');if(document.getElementById('futureSkills').checked)i.push('مهارات المستقبل');if(i.length===0)return alert('الرجاء اختيار مجال واحد على الأقل');sessions.push({day:e,date:t,className:n,number:a,teacher:r,activities:o,fields:i.join('، ')});displaySessions();clearSessionForm();alert('تم حفظ الحصة بنجاح!')}function displaySessions(){const e=document.getElementById('sessionsTableContainer'),t=document.getElementById('sessionsTableBody');if(sessions.length===0){e.style.display='none';return}e.style.display='block';t.innerHTML='';sessions.forEach((e,n)=>{const a=t.insertRow();a.innerHTML='<td><strong>'+(n+1)+'</strong></td><td>'+e.day+'</td><td>'+formatDate(e.date)+'</td><td>'+e.className+'</td><td>'+e.number+'</td><td>'+e.teacher+'</td><td style="text-align:right;padding:14px">'+e.activities+'</td><td style="text-align:right;padding:14px">'+e.fields+'</td><td class="no-print"><button class="delete-btn" onclick="deleteSession('+n+')">حذف</button></td>'})}function deleteSession(e){if(confirm('هل أنت متأكد من حذف هذه الحصة؟')){sessions.splice(e,1);displaySessions();alert('تم الحذف')}}function clearAllSessions(){if(sessions.length===0)return alert('لا توجد حصص');if(confirm('حذف جميع الحصص؟')){sessions=[];displaySessions();alert('تم الحذف')}}function clearSessionForm(){document.getElementById('dayName').value='';document.getElementById('sessionDate').value='';document.getElementById('className').value='';document.getElementById('sessionNumber').value='';document.getElementById('absentTeacher').value='';document.getElementById('activities').value='';document.getElementById('basicSkills').checked=false;document.getElementById('values').checked=false;document.getElementById('futureSkills').checked=false}async function exportSessionsPDF(){if(sessions.length===0)return alert('لا توجد حصص لتصديرها');alert('جاري تصدير PDF...');try{const e=document.createElement('div');e.style.cssText='padding:50px;background:white;width:1400px;font-family:Arial';let t='<div style="text-align:center;margin-bottom:40px;padding:40px;background:#f1f8f4;border-radius:15px"><h1 style="color:#2E7D32;font-size:40px;margin-bottom:15px">تقرير حصص الانتظار</h1><p style="color:#666;font-size:22px;margin:15px 0"><strong>المدرسة السادسة والعشرون - تبوك</strong></p><div style="background:white;padding:25px;border-radius:12px;margin-top:25px"><p style="color:#2E7D32;font-size:18px;margin:10px 0"><strong>مديرة المدرسة:</strong> أماني آل عبشان</p><p style="color:#2E7D32;font-size:18px;margin:10px 0"><strong>تصميم الهيئة الإدارية:</strong> عيدة صلاح، منيرة العمراني</p></div><p style="color:#888;margin-top:20px">تاريخ التقرير: '+new Date().toLocaleDateString('ar-SA')+'</p></div><table style="width:100%;border-collapse:collapse;margin:40px 0"><thead><tr style="background:#2E7D32"><th style="border:2px solid #fff;padding:16px;color:white;text-align:center">م</th><th style="border:2px solid #fff;padding:16px;color:white;text-align:center">اليوم</th><th style="border:2px solid #fff;padding:16px;color:white;text-align:center">التاريخ</th><th style="border:2px solid #fff;padding:16px;color:white;text-align:center">الصف</th><th style="border:2px solid #fff;padding:16px;color:white;text-align:center">الحصة</th><th style="border:2px solid #fff;padding:16px;color:white;text-align:center">المعلمة الغائبة</th><th style="border:2px solid #fff;padding:16px;color:white;text-align:center">ما تم تنفيذه</th><th style="border:2px solid #fff;padding:16px;color:white;text-align:center">المجال</th></tr></thead><tbody>';sessions.forEach((e,n)=>{const a=n%2===0?'#fff':'#f8f9fa';t+='<tr style="background:'+a+'"><td style="border:1px solid #ddd;padding:14px;text-align:center">'+(n+1)+'</td><td style="border:1px solid #ddd;padding:14px;text-align:center">'+e.day+'</td><td style="border:1px solid #ddd;padding:14px;text-align:center">'+formatDate(e.date)+'</td><td style="border:1px solid #ddd;padding:14px;text-align:center">'+e.className+'</td><td style="border:1px solid #ddd;padding:14px;text-align:center">'+e.number+'</td><td style="border:1px solid #ddd;padding:14px;text-align:center">'+e.teacher+'</td><td style="border:1px solid #ddd;padding:14px;text-align:right">'+e.activities+'</td><td style="border:1px solid #ddd;padding:14px;text-align:right">'+e.fields+'</td></tr>'});t+='</tbody></table>';e.innerHTML=t;document.body.appendChild(e);const n=await html2canvas(e,{scale:2,backgroundColor:'#ffffff'});document.body.removeChild(e);const a=n.toDataURL('image/jpeg',0.98);const{jsPDF:r}=window.jspdf;const o=new r('p','mm','a4');const i=210,s=(n.height*i)/n.width;o.addImage(a,'JPEG',0,0,i,s);o.save('تقرير_حصص_الانتظار.pdf');alert('تم تصدير التقرير بنجاح!')}catch(e){console.error(e);alert('حدث خطأ. حاول مرة أخرى')}}
</script>
</body>
</html>
