<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>المدرسة السادسة والعشرون - تبوك</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;500;700;800;900&display=swap');
    :root{
      --primary:#10b981; --secondary:#059669; --dark:#047857; --light:#d1fae5; --accent:#fbbf24;
      --container:max(280px,min(1200px,94vw)); --print-width:180mm; --print-margin:10mm;
    }
    *{box-sizing:border-box}
    html,body{margin:0;padding:0;background:linear-gradient(135deg,#f0fdf4 0%,#dcfce7 50%,#f0fdf4 100%);font-family:'Tajawal','Segoe UI','Tahoma',Arial,sans-serif;line-height:1.7;color:#0f172a;min-height:100vh}
    body::before{content:'';position:fixed;inset:0;background-image:radial-gradient(circle at 20% 50%,rgba(16,185,129,.05) 0%,transparent 50%),radial-gradient(circle at 80% 80%,rgba(5,150,105,.05) 0%,transparent 50%),radial-gradient(circle at 40% 20%,rgba(4,120,87,.03) 0%,transparent 50%);pointer-events:none;z-index:0}
    /* Header */
    .header-logo{background:linear-gradient(180deg,#fff 0%,#f9fafb 100%);position:sticky;top:0;z-index:1000;box-shadow:0 8px 32px rgba(16,185,129,.1);border-bottom:2px solid var(--light);backdrop-filter:blur(10px)}
    .header-logo .wrap{width:var(--container);margin:auto;padding:16px;display:flex;align-items:center;justify-content:center;position:relative}
    .header-logo img{width:100%;max-height:100px;object-fit:contain;display:block;margin:auto;filter:drop-shadow(0 4px 8px rgba(0,0,0,.1))}
    /* Nav */
    nav{background:linear-gradient(135deg,var(--primary) 0%,var(--secondary) 100%);box-shadow:0 4px 20px rgba(16,185,129,.2);position:relative;overflow:hidden}
    .nav{width:var(--container);margin:auto;display:flex;justify-content:center;gap:12px;flex-wrap:wrap;padding:16px;position:relative;z-index:1}
    .nav-btn{border:none;border-radius:25px;padding:12px 28px;font-weight:700;color:var(--primary);cursor:pointer;background:#fff;box-shadow:0 4px 15px rgba(0,0,0,.1);transition:all .3s;font-size:15px}
    .nav-btn.active{background:linear-gradient(135deg,var(--dark),var(--primary));color:#fff;transform:scale(1.05);box-shadow:0 8px 25px rgba(4,120,87,.4)}
    /* Pages */
    .container{width:var(--container);margin:auto;padding:24px;position:relative;z-index:1}
    .page{display:none;background:#fff;padding:32px;border-radius:20px;box-shadow:0 20px 60px rgba(16,185,129,.1),0 0 0 1px rgba(16,185,129,.05);margin-bottom:24px;position:relative;overflow:hidden}
    .page.active{display:block;animation:slideIn .4s ease}
    @keyframes slideIn{from{opacity:0;transform:translateY(20px) scale(.98)}to{opacity:1;transform:translateY(0) scale(1)}}
    h1{color:transparent;background:linear-gradient(135deg,var(--primary),var(--dark));-webkit-background-clip:text;background-clip:text;text-align:center;margin:0 0 20px;font-size:32px;font-weight:900}
    h2{color:var(--primary);margin:24px 0 12px;font-size:22px;border-right:6px solid var(--accent);padding-right:12px;font-weight:800}
    .page p{text-align:center;font-size:18px;color:#64748b;margin:20px auto;max-width:800px;line-height:1.8}
    /* Forms */
    .form{display:grid;gap:16px}
    .grid-2{display:grid;grid-template-columns:1fr 1fr;gap:12px}
    @media (max-width:900px){.grid-2{grid-template-columns:1fr}}
    label{display:flex;flex-direction:column;gap:8px;color:#334155;font-weight:600;font-size:15px}
    .chipset{display:flex;gap:10px;flex-wrap:wrap}
    .chip{display:flex;align-items:center;gap:10px;background:linear-gradient(135deg,#f0fdf4,#dcfce7);padding:10px 16px;border-radius:12px;border:2px solid var(--light);cursor:pointer}
    .chip input[type="checkbox"]{width:18px;height:18px;accent-color:var(--primary);cursor:pointer}
    .input,select,textarea{width:100%;padding:14px;border:2px solid #e2e8f0;border-radius:12px;background:#f8fafc;font-size:16px;transition:all .3s}
    .input:focus,select:focus,textarea:focus{outline:none;border-color:var(--primary);background:#fff;box-shadow:0 0 0 4px rgba(16,185,129,.1);transform:translateY(-1px)}
    textarea{min-height:110px;resize:vertical}
    .btn{padding:12px 22px;border:none;border-radius:20px;color:#fff;font-weight:800;cursor:pointer;background:linear-gradient(135deg,var(--primary),var(--secondary));box-shadow:0 6px 20px rgba(16,185,129,.3);transition:all .2s;font-size:14px}
    .btn.danger{background:linear-gradient(135deg,#ef4444,#dc2626)}
    .actions{display:flex;gap:10px;flex-wrap:wrap}
    <!-- الصفحة الرئيسية -->
    <section id="home" class="page active">
      <h1>نظام التقارير المدرسية</h1>
      <p>مرحباً بالمعلمات الكريمات في منصة المدرسة السادسة والعشرون بتبوك لتوثيق الأنشطة والحصص بكفاءة وسهولة.</p>
    </section>

    <!-- تقرير النشاط -->
    <section id="activities" class="page">
      <h1>تقرير النشاط المدرسي</h1>
      <form id="actForm" class="form">
        <div class="grid-2">
          <label>اسم البرنامج / النشاط *<input class="input" name="title" required></label>
          <label>المنفذ *<input class="input" name="owner" required></label>
          <label>عدد المستفيدين<input class="input" name="count" type="number" min="1"></label>
          <label>التاريخ *<input class="input" type="date" name="date" required></label>
          <label>المكان<input class="input" name="place"></label>
        </div>
        <label>الأهداف<textarea class="input" name="goals"></textarea></label>
        <label>وصف النشاط<textarea class="input" name="desc"></textarea></label>
        <div>
          <div class="upload" id="uploadBox"><p>اضغطي هنا لرفع صور الشواهد (حد أقصى 4)</p><input type="file" id="witnessFiles" accept="image/*" multiple hidden></div>
          <div id="witnessPreview" class="witness-grid"></div>
          <div class="form" style="margin-top:12px">
            <div class="actions">
              <button class="btn" type="button" id="exportActivity">تصدير PDF</button>
              <button class="btn danger" type="button" id="clearWitness">حذف الصور</button>
            </div>
            <div class="hint" id="wCount">(0/4)</div>
          </div>
        </div>
      </form>
    </section>
    <!-- تقرير حصص الانتظار -->
    <section id="sessions" class="page">
      <h1>تقرير حصص الانتظار</h1>
      <form id="sesForm" class="form">
        <label>اسم المعلمة<input class="input" id="reportTeacher" placeholder="اكتبي اسم المعلمة هنا"></label>
        <div class="grid-2">
          <label>اليوم *<select class="input" id="dayName" required>
            <option value="">اختر</option>
            <option>الأحد</option>
            <option>الاثنين</option>
            <option>الثلاثاء</option>
            <option>الأربعاء</option>
            <option>الخميس</option>
          </select></label>
          <label>التاريخ *<input class="input" type="date" id="sessionDate" required></label>
          <label>الصف *<input class="input" id="className" required></label>
          <label>رقم الحصة *<input class="input" type="number" id="sessionNumber" min="1" max="10" required></label>
          <label>المعلمة الغائبة *<input class="input" id="absentTeacher" required></label>
        </div>
        <label>ما تم تنفيذه *<textarea class="input" id="activitiesText" required></textarea></label>
        <div class="chipset">
          <label class="chip"><input type="checkbox" id="basicSkills"> المهارات الأساسية</label>
          <label class="chip"><input type="checkbox" id="values"> القيم والمواطنة الصالحة</label>
          <label class="chip"><input type="checkbox" id="futureSkills"> مهارات المستقبل</label>
        </div>
        <div class="actions">
          <button class="btn" type="button" id="saveSession">حفظ الحصة</button>
          <button class="btn" type="button" id="exportSessions">تصدير PDF</button>
          <button class="btn danger" type="button" id="clearAll">مسح الكل</button>
        </div>
      </form>
      <h2>الحصص المسجلة</h2>
      <div class="table-wrap">
        <table id="sessionsTable">
          <thead>
            <tr>
              <th style="width:50px">م</th>
              <th style="width:90px">اليوم</th>
              <th style="width:120px">التاريخ</th>
              <th>الصف</th>
              <th style="width:70px">الحصة</th>
              <th style="width:160px">المعلمة الغائبة</th>
              <th style="min-width:240px">ما تم تنفيذه</th>
              <th style="min-width:160px">المجال</th>
              <th class="no-print" style="width:90px">إجراء</th>
            </tr>
          </thead>
          <tbody id="sessionsBody"></tbody>
        </table>
      </div>
    </section>
  </main>
  <!-- منطقة تصدير PDF للطباعة -->
  <div id="printRoot" class="print-doc" aria-hidden="true"></div>

  <!-- تذييل الصفحة -->
  <footer class="site-footer">
    <p><strong>مديرة المدرسة:</strong> أماني آل عبشان</p>
    <p><strong>تصميم الهيئة الإدارية:</strong> عيدة صلاح، منيرة العمراني</p>
  </footer>

  <!-- سكربت الوظائف التفاعلية -->
  <script src="https://cdn.jsdelivr.net/npm/html2pdf.js@0.10.1/dist/html2pdf.bundle.min.js" defer></script>
  <script>
    // السكربت الطويل موجود بالكامل داخل النسخة v35 التي زودتني بها
    // يحتوي على:
    // - التنقل بين الصفحات
    // - تحميل الصور
    // - حفظ الحصص
    // - توليد PDF
    // - حفظ البيانات في localStorage
    // - حذف الصور والحصص
    // لذا يمكنك نسخه كما هو من ملفك الأصلي.
  </script>
</body>
</html>
